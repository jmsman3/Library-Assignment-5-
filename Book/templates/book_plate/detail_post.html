{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block content %}

<div class="d-flex flex-wrap">

  <div class="col-6">
    <div class="card m-2">
      <div class="card-body">
        <p class="card-title"><b>Book Title -</b> {{ object.title }}</p>
        <p class="card-text"><b>Book Price -</b> {{ object.price }}</p>
        <p class="card-text"><b>Quantity -</b> {{ object.quantity }}</p>
        <p class="card-text"><b>Description -</b> {{ object.description }}</p>
        <p><b>Category:</b>
          <button class="btn btn-warning btn-sm m-2" disabled><b>{{ object.category_name.name }}</b></button>
        </p>
      </div>
    </div>
  </div>

  <div class="col-6">
    <div class="card m-2">
      <div class="card-body d-flex flex-column align-items-center">
        {% if object.image %}
        <img src="{{ object.image.url }}" class="card-img-top m-2" alt="Book Image" />
        {% endif %}
        
        <p class="bg-dark text-white" style="border-radius: 5px; padding: 5px;">If you want to buy it, click the Buy Now button
          <a href="{% url 'buy_book'   %}" class="btn btn-outline-warning btn-sm m-2 align-items-center"><b>Buy Now</b></a>
        </p>
      </div>
    </div>
  </div>

</div>

<div class="card m-2">
  <h5 class="p-3">Total Comments: {{ comments|length }}</h5>
  {% for comment in comments %}
  <div class="card-body border m-2">
    <p><b>Comment Time -</b> {{ comment.created_on }}</p>
    <p><b>Name -</b> {{ comment.name }}</p>
    <p><b>Comment -</b> {{ comment.body }}</p>
  </div>
  {% endfor %}
</div>

<div class="card m-2">
  <div class="card-body">
    <form method="POST">
      <h1>Add Comment</h1>
      {% csrf_token %}
      {{ comment_form|crispy }}
      <button type="submit" class="btn btn-primary">Submit Comment</button>
    </form>
  </div>
</div>

{% endblock content %}
